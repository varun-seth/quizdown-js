<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1'>

	<title>Quiz</title>

	<script src="./build/quizdown.js"></script>
	<script src="./build/extensions/quizdownKatex.js"></script>
	<script src="./build/extensions/quizdownHighlight.js"></script>
	<script>
		// Fetch the markdown content from the provided URL
		const queryParams = new URLSearchParams(window.location.search);
		const sourceUrl = queryParams.get('source') || queryParams.get('s') || 'sample.md';

		fetch(sourceUrl)
		.then(response => response.text())
		.then(markdown => {
			const quizContainer = document.getElementById('quizContainer');
			const newQuizElement = document.createElement('div');
			newQuizElement.className = 'quizdown';

			quizContainer.appendChild(newQuizElement);
			let config = {
				"shuffleAnswers": false,
				"shuffleQuestions": false,
				"primaryColor": "#316FF6",
				"secondaryColor": "#f8f8f8",
			};
			quizdown.register(quizdownKatex).register(quizdownHighlight).createApp(markdown, newQuizElement, config);
		})
		.catch(error => console.error('Error fetching markdown:', error));
	</script>
</head>

<style>
	html {
		font-family: sans-serif;
	}

	body {
		font-size: 1.1em;
		line-height: 1.5;
	}
</style>

<body>
	<div class="container" id="quizContainer" style="margin: auto; ">
	</div>
</body>

</html>